<% content_for :title, "Join #{@join_code.account.name}" %>

<div class="px-4 py-4">
  <%= render BackButtonComponent.new(label: "Home", href: root_path(script_name: nil), variant: :fizzy) %>
</div>

<div class="max-w-md mx-auto px-4 py-8 font-sans">
  <div class="bg-[#F8F5EC] border-[3px] border-zinc-900 shadow-[8px_8px_0px_0px_rgba(20,20,23,0.8)] relative">
    <div class="p-6 border-b-[3px] border-zinc-900 bg-white relative">
      <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:10px_10px]"></div>
      <div class="relative z-10">
        <h1 class="text-2xl font-black text-zinc-900 uppercase tracking-tighter">
          Join <%= @join_code.account.name %>
        </h1>
      </div>
    </div>

    <div class="p-8 relative">
      <div class="absolute inset-0 pointer-events-none bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:20px_20px]"></div>
      <div class="relative z-10 space-y-6">
        <p class="text-sm text-zinc-700">
          Enter your email address to join this account. We will send you a magic link to verify your email.
        </p>

        <%= form_with url: join_path(@join_code.code), method: :post, class: "space-y-6" do |form| %>
          <div>
            <label for="email_address" class="block text-xs font-bold text-zinc-500 uppercase tracking-widest font-mono mb-2">
              Email Address
            </label>
            <%= form.email_field :email_address,
                  required: true,
                  autofocus: true,
                  autocomplete: "username",
                  placeholder: "you@example.com",
                  value: Current.identity&.email_address,
                  class: "w-full px-4 py-3 bg-white border-[2px] border-zinc-900 text-zinc-900 font-bold placeholder-zinc-400 focus:outline-none focus:bg-yellow-50 transition-colors rounded-none" %>
          </div>

          <button type="submit" class="w-full inline-flex items-center justify-center px-8 py-3 bg-zinc-900 text-[#F8F5EC] border-[2px] border-zinc-900 font-bold uppercase tracking-widest text-xs hover:-translate-y-0.5 hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] active:translate-y-0 active:shadow-none transition-all">
            Join Account
          </button>
        <% end %>
      </div>
    </div>

    <div class="h-2 border-t-[3px] border-zinc-900 bg-zinc-900 w-full"></div>
  </div>
</div>
