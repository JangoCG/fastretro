<%# Outer Container: Industrial Shipping Crate Aesthetic for Roster %>
<div class="h-full flex flex-col relative group">
  <%# Structural outline with "flange" effect %>
  <div class="absolute -left-1 -top-1 -right-1 -bottom-1 border-[1px] border-zinc-400 rounded-sm"></div>

  <div class="relative flex flex-col h-full bg-[#f4f1ea] border-[4px] border-zinc-900 shadow-[8px_8px_0px_0px_rgba(20,20,23,0.8)] overflow-hidden">
    
    <%# Hazard Strip Header %>
    <div class="h-3 w-full border-b-[3px] border-zinc-900 bg-[repeating-linear-gradient(45deg,#18181b,#18181b_10px,#facc15_10px,#facc15_20px)]"></div>

    <%# Technical Header %>
    <div class="px-5 py-5 border-b-[3px] border-zinc-900 bg-white relative overflow-hidden">
      <%# Background Grid for Header %>
      <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:10px_10px]"></div>

      <div class="relative z-10">
        <%# Main Title %>
        <h2 class="font-black text-xl uppercase tracking-tighter text-zinc-900 leading-[0.85] filter drop-shadow-sm transform -ml-0.5">
          <span class="relative px-1 inline-block">
             <span class="absolute inset-0 bg-[#FFFF00] -rotate-1 skew-x-3 scale-110 -z-10 mix-blend-multiply opacity-80"></span>
             "PARTICIPANTS"
          </span>
        </h2>
      </div>
    </div>

    <%# List Area %>
    <div class="flex-1 overflow-y-auto p-0 scrollbar-thin scrollbar-thumb-zinc-400 scrollbar-track-transparent bg-[#F8F5EC] relative">
      <%# Background Grid %>
      <div class="absolute inset-0 pointer-events-none bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:20px_20px]"></div>

      <ul class="divide-y divide-zinc-300 border-t border-zinc-300 relative z-10">
        <% participants.each_with_index do |participant, index| %>
          <li class="group flex items-center gap-3 px-4 py-3 hover:bg-zinc-200/50 transition-all relative aria-selected:bg-yellow-100 <%= highlight_enabled? ? 'cursor-pointer' : 'cursor-default' %>"
              data-user-id="<%= participant.user_id %>"
              <% if highlighted?(participant) %>aria-selected="true"<% end %>
              <% if highlight_enabled? %>
                data-action="click->participant-highlight#toggle"
              <% end %>
          >
            <%# Hover Selection Marker %>
            <div class="absolute left-0 top-0 bottom-0 w-[4px] bg-zinc-900 opacity-0 group-hover:opacity-100 transition-opacity"></div>

            <%# Avatar %>
            <div class="relative">
              <div class="w-9 h-9 rounded-[2px] border-[1.5px] border-zinc-900 <%= avatar_color(index) %> flex items-center justify-center text-white text-xs font-black shadow-sm group-hover:shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] transition-all">
                <%= participant.initials %>
              </div>
              <%# Status %>
              <div class="absolute -bottom-1 -right-1 w-3 h-3 rounded-[1px] <%= status_color(:online) %> border-[1.5px] border-[#F8F5EC]"></div>
            </div>

            <%# User Info %>
            <div class="flex-1 min-w-0 flex flex-col justify-center">
              <p class="text-sm font-bold text-zinc-900 truncate uppercase tracking-tight leading-none mb-0.5">
                <%= participant.name %>
              </p>
              <p class="text-xs font-bold <%= participant.finished? ? 'text-emerald-600' : 'text-zinc-400' %> uppercase tracking-wider font-mono">
                <%= status_text(participant) %>
              </p>
            </div>
          </li>
        <% end %>
      </ul>
    </div>

    <%# Technical Footer %>
    <div class="h-6 border-t-[3px] border-zinc-900 bg-zinc-900 flex items-center justify-between px-3">
      <div></div>
       <%# Barcode Effect %>
       <div class="h-3 w-12 bg-[repeating-linear-gradient(90deg,#fff,#fff_1px,transparent_1px,transparent_3px)] opacity-50"></div>
    </div>
  </div>
</div>